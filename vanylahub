local Lighting = game:GetService("Lighting")
local Workspace = game:GetService("Workspace")
local RunService = game:GetService("RunService")

local function ultraOptimize()
    Workspace.StreamingEnabled = true
    Lighting.GlobalShadows = false
    Lighting.Technology = Enum.Technology.Legacy
    Lighting.FogEnd = 1000000
    Lighting.FogStart = 1000000
    Lighting.Brightness = 5
    Lighting.Ambient = Color3.fromRGB(178, 178, 178)
    Lighting.OutdoorAmbient = Color3.fromRGB(178, 178, 178)
    Lighting.ColorShift_Bottom = Color3.fromRGB(255, 255, 255)
    Lighting.ColorShift_Top = Color3.fromRGB(255, 255, 255)

    pcall(function()
        settings().Rendering.QualityLevel = Enum.QualityLevel.Level01
        settings().Rendering.MeshPartDetailLevel = Enum.MeshPartDetailLevel.Level01
        settings().Rendering.GraphicsMode = Enum.GraphicsMode.Direct3D9
        settings().Physics.AllowSleep = true
        settings().Physics.ThrottleAdjustTime = 0
    end)

    for _, obj in pairs(Workspace:GetDescendants()) do
        if obj:IsA("BasePart") then
            obj.Material = Enum.Material.Plastic
            obj.Reflectance = 0
            obj.CastShadow = false

            local lname = obj.Name:lower()
            if lname:find("water") or lname:find("ocean") or lname:find("sea") or lname:find("lake") then
                obj.Color = Color3.fromRGB(0,150,255)
                obj.Material = Enum.Material.SmoothPlastic
                obj.Transparency = 0.3
                for _, child in pairs(obj:GetChildren()) do
                    if child:IsA("SurfaceAppearance") or child:IsA("Decal") or child:IsA("Texture") then
                        child:Destroy()
                    end
                end
            end
        elseif obj:IsA("Decal") or obj:IsA("Texture") then
            obj.Transparency = 1
        elseif obj:IsA("ParticleEmitter") or obj:IsA("Fire") or obj:IsA("Smoke") or obj:IsA("Sparkles") then
            obj.Enabled = false
        elseif obj:IsA("PointLight") or obj:IsA("SpotLight") or obj:IsA("SurfaceLight") or obj:IsA("BloomEffect") or obj:IsA("BlurEffect") or obj:IsA("ColorCorrectionEffect") then
            obj.Enabled = false
        elseif obj:IsA("Atmosphere") then
            obj.Density = 0
            obj.Offset = 0
            obj.Glare = 0
            obj.Haze = 0
        elseif obj:IsA("Clouds") then
            obj.Enabled = false
            obj.Density = 0
        elseif obj:IsA("Wind") then
            obj.Enabled = false
            obj.Strength = 0
            obj.Speed = 0
        elseif obj:IsA("Sound") and obj.IsPlaying then
            obj.Volume = 0
        elseif obj:IsA("Terrain") then
            obj.WaterWaveSize = 0
            obj.WaterWaveSpeed = 0
            obj.WaterReflectance = 0
            obj.WaterTransparency = 0.3
            obj.WaterColor = Color3.fromRGB(0,150,255)
            obj:ReplaceMaterial(Enum.Material.Grass, Enum.Material.SmoothPlastic)
        end
    end
end

ultraOptimize()
RunService.Heartbeat:Connect(ultraOptimize)